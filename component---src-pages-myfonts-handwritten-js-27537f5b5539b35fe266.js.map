{"version":3,"sources":["webpack:///./src/pages/myfonts/handwritten.js"],"names":["HandwrittenPage","data","console","log","cards","handwrittenFonts","edges","category","categories"],"mappings":"4FAAA,gJAkMeA,UAzHS,SAAC,GAAY,IAAD,EAAVC,EAAU,EAAVA,KA4FxB,OA1FEC,QAAQC,IAAI,OAAQF,GA2FpB,kBAAC,IAAD,KACE,kBAAC,IAAD,MAkBE,kBAAC,IAAD,CACIG,MAAK,UAAEH,EAAKI,wBAAP,aAAE,EAAuBC,MAC9BC,SAAUC,IAAW","file":"component---src-pages-myfonts-handwritten-js-27537f5b5539b35fe266.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// import { cards } from \"../components/index-page/cards/data\";\nimport Layout from \"../../components/Layout\";\nimport Logo from \"../../components/logo/Logo\";\nimport { Link, navigate } from \"gatsby\";\nimport { useQuery } from \"../../hooks/useQuery\";\nimport IndexPageNoFiltersView from \"../../views/IndexPageNoFiltersView\";\nimport IndexPageCategoryFilterView from \"../../views/IndexPageCategoryFilterView\";\n// import IndexPageSubcategoryFilterView from \"../views/IndexPageSubcategoryFilterView\";\nimport useCards from \"../../hooks/useCards\";\nimport { categories } from \"../../categories\";\nimport SEO from \"../../seo\";\nimport {\n\n  LogoWithCurve,\n  CurveIcon,\n  ShadowCircle,\n  CurveMobileIcon,\n} from \"../../components/access-page/style\";\n// import smoothscroll from 'smoothscroll-polyfill';\n\n// window.__forceSmoothScrollPolyfill__ = true;\n\n// if (typeof window !== 'undefined') {\n//   require('smooth-scroll')('a[href*=\"#\"]');\n// }\n\n// if (typeof window !== \"undefined\") {\n//   // kick off the polyfill!\n//   smoothscroll.polyfill();\n// }\n\n\nexport const contentfulQuery = graphql`\n  query contentfulHandwrittenQuery {\n    handwrittenFonts: allContentfulPavlushinFont(\n      sort: { fields: [fontOrderNumber], order: DESC }\n      filter: { fontCategory: { eq: \"Рукописные\" }}\n    ) {\n      edges {\n        node {\n          id\n          fontOrderNumber\n          fontName\n          fontWeights\n          fontCategory\n          fontSubcategory\n          fontFormats\n          fontBackground\n          fontCurrency\n          fontLink\n          fontCSS {\n            fontCSS\n          }\n          fontAuthors {\n            raw\n          }\n          fontSize\n          fontLetterSpacing\n          fontLineHeight\n          fontImage {\n            fluid(maxWidth: 500) {\n            ...GatsbyContentfulFluid_withWebp\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\n\n// markup\nconst HandwrittenPage = ({data}) => {\n\n    console.log(\"data\", data)\n  // включить эти две вещи когда будешь тестировать доступность\n  // const [loading, setLoading] = useState(true);\n  // const [access, setAccess] = useState(false);\n  \n\n  //вот эти две убрать\n//   const [loading, setLoading] = useState(false);\n//   const [access, setAccess] = useState(true);\n\n//   const query = useQuery()\n\n//   const getCategoryName = () => {\n//     const selectedCat = categories.find((el) => el.url === query.get(\"category\"))\n//     if (selectedCat) {\n//       return selectedCat.name\n//     }\n//     return \"\"\n//   }\n\n  // const getSubCategoryName = () => {\n  //   const selectedCat = categories.find((el) => el.url === query.get(\"category\"))\n  //   if (selectedCat) {\n  //     const selectedSubCat = selectedCat?.subCategories.find((el) => el.url === query.get(\"subcategory\"))\n  //     if (selectedSubCat) {\n  //       return selectedSubCat.name\n  //     }\n  //   }\n  //   return \"\"\n  // }\n  \n\n//   const [filters, setFilters] = useState({\n//     category: getCategoryName(),\n//     // subCategory: getSubCategoryName(),\n//   });\n\n  // console.log(\"query\", filters)\n\n//   const cards = useCards();\n\n\n  //включить когда будешь тестировать доступность\n  // useEffect(() => {\n  //   if (typeof window !== \"undefined\") {\n  //     if (localStorage.getItem(\"kingdomOfFontsAccess\")) {\n  //       setLoading(false);\n\n  //       setAccess(true);\n  //     } else {\n  //       // setLoading(false);\n  //       navigate(\"/buy\");\n  //     }\n  //   }\n  // }, []);\n\n//   const multiPropsFilter = (cards, filters) => {\n//     const filterKeys = Object.keys(filters);\n//     return cards.filter((item) => {\n//       // validates all filter criteria\n//       return filterKeys.every((key) => {\n//         // ignores non-function predicates\n//         if (typeof filters[key] !== \"function\") {\n//           // return true;\n//           if (!filters[key].length) return true;\n//           if (Array.isArray(item[key])) {\n//             return item[key].some((keyElem) => filters[key].includes(keyElem));\n//           }\n//           return filters[key].includes(item[key]);\n//         }\n//         return filters[key](item[key]);\n//       });\n//     });\n//   };\n\n//   const filteredCards = multiPropsFilter(cards, filters);\n  // console.log(\"cards\", cards);\n  // console.log(\"filters\", filters);\n  // console.log(\"filteredCards\", filteredCards);\n\n//   if (loading) {\n//     return <Layout></Layout>;\n//   }\n\n//   if (!access) {\n//     return <Layout>no access</Layout>;\n//   }\n\n  // console.log(\"filters\", filters)\n\n  return (\n    <Layout>\n      <SEO\n        // title=\"Бесплатная кириллица\"\n        // description=\"Подборка лучших кириллических шрифтов с бесплатной коммерческой лицензией для ваших проектов.\"\n        // keywords={[\n        //   \"подборка\",\n        //   \"шрифты\",\n        //   \"fonts\",\n        //   \"кириллица\",\n        //   \"бесплатно\"\n        // ]}\n        // url=\"https://pavlushin.design/\"\n      />\n              {/* <CurveIcon/>\n        <CurveMobileIcon/>\n        <LogoWithCurve>\n          <Logo />\n          <ShadowCircle/>\n        </LogoWithCurve> */}\n        <IndexPageCategoryFilterView\n            cards={data.handwrittenFonts?.edges}\n            category={categories[3]}\n            // setFilters={setFilters}\n        />\n    </Layout>\n  );\n};\n\nexport default HandwrittenPage;\n"],"sourceRoot":""}